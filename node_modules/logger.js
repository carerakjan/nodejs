/**
 * New node file
 */
Date.prototype.parse = function(template) {
	/#DD# #MM# #YY# #yy# #mm# #hh# #ss# #ms#/
	var num2str = function(num){
		var n = parseInt(num,10);
		if(isNaN(n)) return;
		return (n<10)?"0"+n:n;
	};
	var t = {
		DD:num2str(this.getDate()),
		MM:num2str(this.getMonth()+1),
		YY:this.getFullYear(),
		yy:this.getFullYear()%100,
		mm:num2str(this.getMinutes()),
		hh:num2str(this.getHours()),
		ss:num2str(this.getSeconds()),
		ms:num2str(this.getMilliseconds())
	};
	var res = template;
	for(var i in t){
		res = res.replace("#"+i+"#",t[i]);
	}
	return res;
};
module.exports = function(module) {
	return function(){
		var date = new Date().parse("#DD#/#MM#/#yy# #hh#:#mm#:#ss#:#ms#");
		var args = [date+":"].concat([module.filename].concat([].slice.call(arguments)));
		console.log.apply(console,args);
	};
};
